{
  "frontend/src/App.tsx": "Main application component with authentication flow and role-based routing that triggers profile fetch immediately after authentication to ensure backend admin self-repair runs before routing decisions, preventing Admin users from seeing Access Pending screen.",
  "frontend/src/hooks/useQueries.ts": "Custom React Query hooks for all backend operations including useIsAdmin() and useGetAdminStatusCheck() hooks for deterministic admin detection, with profile and partner agency mutations now invalidating the isAdmin query to ensure admin status stays synchronized after any role-affecting operations.",
  "frontend/src/pages/LoginPage.tsx": "Login page component with Internet Identity authentication, featuring the app logo, welcome message, information about the platform, and a \"Request Access\" button that shows the public access request form.",
  "frontend/src/pages/AdminDashboard.tsx": "Admin dashboard with tabbed navigation for overview, referrals, intakes, beds, facilities, access requests, user management, and activity log, now featuring the AdminStatusCheckCard at the top of the Overview tab for admin status verification.",
  "frontend/src/pages/StaffDashboard.tsx": "Staff dashboard with tabbed navigation for overview, referrals, intakes, and beds, now using the compact StaffOverviewCompact component in the overview tab with navigation integration.",
  "frontend/src/components/Header.tsx": "Application header with logo, user profile dropdown showing effective role (Admin when backend recognizes as admin, otherwise profile role), theme toggle, and logout functionality.",
  "frontend/src/components/Footer.tsx": "Application footer with copyright and attribution to caffeine.ai.",
  "frontend/src/components/ProfileSetupModal.tsx": "Modal dialog for first-time user profile setup requiring name and optional contact information, with role field completely removed from submission to prevent overwriting existing admin roles.",
  "frontend/src/components/AccessDeniedScreen.tsx": "Full-screen component displaying an \"Access Pending\" message with helpful information for users awaiting admin approval and role assignment.",
  "frontend/src/components/DashboardOverview.tsx": "Dashboard overview component displaying key metrics and statistics for referrals, intakes, and bed occupancy using only active (non-archived) beds from useGetActiveBeds hook, with Admin-only Bed Utilization summary rendered via AdminBedUtilizationSummary component.",
  "frontend/src/components/ReferralsTab.tsx": "Staff/Admin referrals queue interface with status filtering via tabs, additional filters for program requested and submission date range, client-side sorting controls, approval workflow, triage timer display, internal notes management, status history timeline, visual at-risk indicators, live-updating referral counts summary, and now displays \"Last updated\" timestamp and \"Last updated by\" user name in the referral detail dialog.",
  "frontend/src/components/IntakesTab.tsx": "Intake management interface with Admin-only view switcher between Management (card grid) and Data View (table), single-step bed assignment, case manager assignment, internal notes editing, exit marking, status history timeline, visual at-risk indicators, and now displays \"Last updated\" timestamp and \"Last updated by\" user name in the intake detail view.",
  "frontend/src/components/BedsTab.tsx": "Bed tracking interface with Program and Status filters, Admin-only localStorage-backed filter persistence, full edit controls, archive/delete functionality, and visual at-risk indicators for beds occupied without exit dates by correlating intake data.",
  "frontend/src/components/FacilitiesTab.tsx": "Facilities management interface for admins to create new facilities and add beds with required bed number input and program selection, enforcing a maximum of 12 active beds with clear validation messages and disabled state when limit is reached.",
  "frontend/src/index.css": "Global styles with OKLCH color system featuring a blue/purple theme optimized for both light and dark modes.",
  "frontend/src/pages/PartnerDashboard.tsx": "Partner Agency dashboard with tabbed navigation for viewing submitted referrals, submitting new referrals, and managing agency profile.",
  "frontend/src/components/PartnerReferralsTab.tsx": "Partner Agency referral management interface that displays agency name from profile, handles backend rejection with clear error messages, and explicitly excludes status history display (Staff/Admin-only feature documented in code comment).",
  "frontend/src/components/RequestAccessForm.tsx": "Public access request form component with fields for agency name, contact name, phone, email, and notes, featuring form validation, submission handling, and a success confirmation screen.",
  "frontend/src/components/AccessRequestsTab.tsx": "Admin-only tab component for viewing pending access requests with detailed information cards, approve functionality with Principal ID input dialog, and delete functionality for managing access requests.",
  "frontend/src/utils/referralValidation.ts": "Shared validation utilities for referral forms with field-specific error messages and enhanced error handling for Partner Agency profile requirements.",
  "frontend/src/utils/bedTrackingPreferences.ts": "localStorage utility for Bed Tracking filter preferences with versioned storage key, safe validation/normalization of stored values, and fallback to defaults (Program=all, Status=available, Show Archived=false) when data is missing/corrupt/unknown.",
  "frontend/src/components/UserManagementTab.tsx": "Admin-only user management interface that displays pending users awaiting role assignment and active users with their current roles, allowing admins to approve pending users by assigning Admin, Staff, or Partner Agency roles.",
  "frontend/src/components/StaffOverviewCompact.tsx": "Compact Staff Overview component displaying referrals waiting review with at-risk (>72h) highlighting, warning sections for intakes without assigned beds, beds occupied without exit dates, intakes without case managers, active intakes summary, and available beds grouped by program with navigation callbacks.",
  "frontend/src/components/ReferralStatusBadge.tsx": "Shared referral status badge component with mobile portrait-specific layout handling, using Tailwind's portrait modifier to stack badges vertically on mobile portrait while keeping them inline on desktop and landscape.",
  "frontend/DEPLOYMENT.md": "Production deployment checklist documenting exact steps to build and deploy frontend assets, post-deploy verification items, rollback procedures, and common troubleshooting steps.",
  "frontend/SMOKE_TESTS.md": "Manual smoke test flow for production that includes authenticating via Internet Identity, confirming Admin users land on AdminDashboard with correct role display, verifying the Admin Status Check card functionality, and testing role-based access control for all user types.",
  "frontend/src/components/ActivityLogTab.tsx": "Activity log tab component that displays paginated activity entries in a table with columns for time, user (resolved to name when available), action, entity, and record ID, including loading, empty, and error states with pagination controls.",
  "frontend/src/utils/referralWaitingTime.ts": "Utility functions for calculating elapsed time since referral creation, formatting waiting time as \"Waiting X hours/days\", and checking if a referral is overdue (updated to 72-hour threshold).",
  "frontend/src/hooks/useNow.ts": "React hook that provides a current timestamp that updates every minute to keep waiting-time displays fresh without refetching data.",
  "frontend/src/components/PartnerAgencyProfileTab.tsx": "Partner Agency profile management component for viewing and editing agency name, primary contact name, phone, and email with validation and success/error toasts.",
  "frontend/src/components/StatusHistoryTimeline.tsx": "Reusable read-only timeline component that displays status history entries with status badges, formatted timestamps, and user information for both referrals and intakes.",
  "frontend/src/utils/atRisk.ts": "Shared client-side risk detection utilities that determine at-risk status for referrals (>72 hours), intakes (active without assigned bed), and beds (occupied without exit date) with no side effects or persistence.",
  "frontend/src/components/AdminRiskOverviewCompact.tsx": "Compact admin risk overview component displaying at-risk referrals (>72h), intakes without beds, beds without exit dates, and intakes without case managers with navigation callbacks to relevant tabs.",
  "frontend/src/hooks/useActor.ts": "Actor initialization hook that creates authenticated backend actors and automatically calls ensureAdminRole() after authentication to bootstrap the first admin user when no admins exist.",
  "frontend/src/components/AdminStatusCheckCard.tsx": "Admin-only status check card component that displays caller principal, admin boolean status with badge, and list of all admin principals with loading skeleton and contained error handling.",
  "frontend/src/utils/referralFilters.ts": "Utility functions for filtering referrals by program (exact match), submission date range (inclusive day boundaries), and applying all filters with AND logic.",
  "frontend/src/utils/referralSort.ts": "Utility for sorting referrals by submission date (newest first) or status (with explicit rank order: submitted, needsInfo, waitlisted, approved, declined) with stable tie-breakers using createdAt and id for deterministic ordering.",
  "frontend/src/components/ReferralCountsSummary.tsx": "Compact presentational component that displays total referral count and per-status counts (Submitted, Needs Info, Approved, Waitlisted, Declined) computed from the provided referrals array using memoization for automatic updates.",
  "frontend/src/components/IntakesDataViewTable.tsx": "Admin-only table component displaying all intakes with columns for Status, Program (derived from assigned bed), Case Manager (resolved to user name), Bed Assignment, Created date, and now includes \"Last updated\" timestamp and \"Last updated by\" user name columns with explicit placeholders for missing values.",
  "frontend/src/components/AdminBedUtilizationSummary.tsx": "Admin-only Bed Utilization summary component that displays total/available/occupied bed counts and dynamically computes per-program breakdowns from active beds, with an empty state message when no beds exist.",
  "frontend/src/utils/userDisplay.ts": "Shared utility function that resolves a principal to a user display string, returning the user's name if available, a shortened principal string otherwise, or \"System\" when the principal is null/undefined."
}